<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title>웹소켓으로 MQTT 브로커에 접속</title>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.2/mqttws31.min.js" type="text/javascript"></script>
      <script src= "/static/projectio.js" type="text/javascript"></script>
      <script src="/static/face.js" type="text/javascript"></script>
      <script>
            window.onload = function () {
                // http://224..129:8080/에서 224...의 IP만 끊어내는 코드
                var url = new String(document.location);
                ip = (url.split("//"))[1]; // ip = "224...:8080/"
                ip = (ip.split(":"))[0]; // ip = "224..."
                document.getElementById("broker").value = ip
            }
      </script>
   </head>
   <body>
         <h3>Room NetWork</h3>
         <hr>
         <form id="connection-form">
            <b>브로커 IP:</b>
            <input id="broker" type="text" name="broker" value=""><br>
            <b>사용자 이름:</b>
            <input id="username" type="text" name="user" value=""><br>
            <b>포트 번호 : 9001</b><br>
            <input type="button" onclick="startConnect()" value="로그인">
            <input type="button" onclick="startDisconnect()" value="로그아웃">
            <br><div id="log"></div>
         </form>
         <hr>
         <h3>Room NetWork service</h3>
         <hr>
         <form id="subscribe-form">
            <input type="button" onclick="subscribe('network')" value="시작">
            <input type="button" onclick="unsubscribe('close')" value="중단">
         </form>
<div id="messages"></div>
    <b><span id="temmessages"></span></b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <b><span id="hummessages"></span></b>
    <br>
    <img id="temimg" src="" width="50" height="50">
   <h3><b><div id="dm" style="color:red"></div></b></h3>

   <canvas id="myCanvas" width="320" height="240"></canvas>

   </body>
</html>

